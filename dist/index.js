!function(t,o){return"function"==typeof define&&define.amd?define(function(){return o}):"object"==typeof exports?void(module.exports=o):void(t.tq=o(t))}(this,function(t){"use strict";var o=console&&console.log?console.error:function(){},r={},n=function(t,o,e){if(!(o&&o.constructor&&o.call&&o.apply))throw Error("Callback has to be a function.");if(Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t))for(var i,c=i=t.length,f=0;c>f;f++)n(t[f],function(){i--,0===i&&o()},e);else{if(r[t]===!0)return o();r[t]=r[t]||[],r[t].push(o),e===!0&&n.t(t)}};return n.got=function(t){if(r[t]!==!0){if(r[t]){r[t]._t&&clearInterval(r[t]._t);for(var n=r[t].shift();n;)try{n()}catch(e){o(e)}finally{n=r[t].shift()}}r[t]=!0}},n.t=function(o){function e(){r[o]._t=setTimeout(function(){return t[o]?n.got(o):void e()},100)}r[o]=r[o]||[],e()},n});