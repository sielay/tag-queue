!function(t,e){return"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof exports?void(module.exports=e):void(t.tq=e(t))}(this,function(t){"use strict";var e=/^(http|https|):\/\/(.+?)\/(.+)$/,o=console&&console.log?console.error:function(){},r={},n={},i=function(e){if(!n[e]){if(!t.document)throw Error("URL loads are not supported without document");var o=t.document,r=o.getElementsByTagName("head")[0]||o.documentElement,i=o.createElement("script");i.src=e,n[e]=i,i.onload=i.onreadystatechange=function(){n[e]===!0||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n[e]=!0,i.onload=i.onreadystatechange=null,r&&i.parentNode&&r.removeChild(i),a.got(e))},r.insertBefore(i,r.firstChild)}},a=function(t,o,n){if(!(o&&o.constructor&&o.call&&o.apply))throw Error("Callback has to be a function.");if(Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t))for(var c,f=c=t.length,s=0;f>s;s++)a(t[s],function(){c--,0===c&&o()},n);else{if(r[t]===!0)return o();r[t]=r[t]||[],r[t].push(o),e.test(t)&&i(t),n===!0&&a.t(t)}};return a.got=function(t){if(r[t]!==!0){if(r[t]){r[t]._t&&clearInterval(r[t]._t);for(var e=r[t].shift();e;)try{e()}catch(n){o(n)}finally{e=r[t].shift()}}r[t]=!0}},a.t=function(e){function o(){r[e]._t=setTimeout(function(){return t[e]?a.got(e):void o()},100)}r[e]=r[e]||[],o()},a});